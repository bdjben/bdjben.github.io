<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=2560,initial-scale=1">
<title>Dashboard Demo - System Monitor</title>
<link rel="stylesheet" href="style.css">
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700</head>display=swap" rel="stylesheet"></head>
<body>
<!-- Welcome Overlay (hidden by default, shown via About button) -->
<div id="welcomeOverlay" style="position:fixed;inset:0;background:rgba(0,0,0,0);z-index:9999;display:none;align-items:center;justify-content:center;font-family:'SF Mono','Fira Code','Cascadia Code','Consolas',monospace;">
  <div style="background:rgba(13,21,32,0.95);border:1px solid rgba(0,212,255,0.25);box-shadow:0 0 40px rgba(0,212,255,0.2);max-width:90vw;min-width:700px;max-height:80vh;overflow-y:auto;padding:2.5em 3em;position:relative;border-radius:6px;">
    <button onclick="document.getElementById('welcomeOverlay').style.display='none'" style="position:absolute;top:14px;right:18px;background:none;border:none;color:#667788;font-size:2em;cursor:pointer;font-family:inherit;line-height:1;padding:6px 10px;z-index:10;" onmouseover="this.style.color='#00d4ff'" onmouseout="this.style.color='#667788'">✕</button>
    <div style="text-align:center;margin-bottom:1.5em;">
      <div style="font-size:1.47em;color:#00d4ff;letter-spacing:0.2em;font-weight:bold;margin-bottom:0.3em;">OpenClaw Dashboard Demo — Ben Badejo</div>
      <div style="width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(0,212,255,0.5),transparent);"></div>
    </div>
    <div style="color:#c8d6e5;font-size:0.85em;line-height:1.8;margin-bottom:1.2em;">
      <p style="margin-bottom:0.8em;">You're viewing a live demo of a fully-functional four-screen unified operations dashboard, built by Ben Badejo using OpenClaw.</p>
      <p style="margin-bottom:0.8em;">In a real deployment, each screen is continuously updated by live calls to Google Calendar, Gmail, and platform data — keeping you informed in real time without lifting a finger.</p>
      <p style="margin-bottom:1em;">These dashboards are included in Ben's full, end-to-end OpenClaw setup offering. Ben also offers one-on-one consultations, hourly trainings, custom project development with direct (not outsourced) remote implementation, platform security guidance, and ongoing maintenance for clients.</p>
      <div style="text-align:center;">
        <a href="https://benbadejo.youcanbook.me" target="_blank" style="display:inline-block;background:#ff3333;color:#fff;font-weight:bold;font-family:inherit;font-size:1em;letter-spacing:0.12em;padding:14px 40px;border-radius:5px;text-decoration:none;cursor:pointer;transition:all 0.2s;" onmouseover="this.style.background='#ff5555';this.style.boxShadow='0 0 20px rgba(255,51,51,0.5)'" onmouseout="this.style.background='#ff3333';this.style.boxShadow='none'">BOOK A SESSION WITH BEN →</a>
      </div>
    </div>
    <div style="height:1px;background:linear-gradient(90deg,transparent,rgba(0,212,255,0.3),transparent);margin:1.5em 0;"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:1em;">
      <div style="background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.15);border-radius:4px;padding:1.2em;">
        <div style="font-size:0.73em;color:#00d4ff;letter-spacing:0.15em;font-weight:bold;margin-bottom:0.5em;">AGENDA</div>
        <div style="color:#c8d6e5;font-size:0.67em;line-height:1.7;">Your personal command center — a real-time operational status board showing active tasks by urgency, upcoming calendar events, items needing review, and a live changelog of recent activity.</div>
      </div>
      <div style="background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.15);border-radius:4px;padding:1.2em;">
        <div style="font-size:0.73em;color:#00d4ff;letter-spacing:0.15em;font-weight:bold;margin-bottom:0.5em;">CRM</div>
        <div style="color:#c8d6e5;font-size:0.67em;line-height:1.7;">A full client pipeline management system tracking every prospect through stages from inquiry to active engagement, with calendar view, invoice tracking, and response-needed alerts.</div>
      </div>
      <div style="background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.15);border-radius:4px;padding:1.2em;">
        <div style="font-size:0.73em;color:#00d4ff;letter-spacing:0.15em;font-weight:bold;margin-bottom:0.5em;">PROJECT VIEW</div>
        <div style="color:#c8d6e5;font-size:0.67em;line-height:1.7;">A bird's-eye perspective across every domain of your work — consulting, networking, personal projects, and more — organized into categories with live status tracking and social media intelligence.</div>
      </div>
      <div style="background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.15);border-radius:4px;padding:1.2em;">
        <div style="font-size:0.73em;color:#00d4ff;letter-spacing:0.15em;font-weight:bold;margin-bottom:0.5em;">SYSTEM MONITOR</div>
        <div style="color:#c8d6e5;font-size:0.67em;line-height:1.7;">Mission control for your OpenClaw deployment — active agents, loaded skills, scheduled operations, live token usage, and a real-time error log.</div>
      </div>
    </div>
    <div style="background:rgba(0,212,255,0.05);border-radius:4px;padding:1.2em 1.5em;margin-top:1.5em;">
      <div style="font-size:0.7em;color:#00d4ff;letter-spacing:0.15em;font-weight:bold;margin-bottom:0.5em;">NAVIGATING THE DASHBOARDS</div>
      <div style="color:#c8d6e5;font-size:0.67em;line-height:1.7;">Use ← → arrow keys, middle click, or swipe left/right on a touchpad to move between dashboards. Click the title name in the top-left corner to advance to the next dashboard.</div>
    </div>
  </div>
</div>
<div class="scanlines"></div>
<div class="hud-frame">
  <div class="corner tl"></div>
  <div class="corner tr"></div>
  <div class="corner bl"></div>
  <div class="corner br"></div>
</div>

<header class="top-bar">
  <div class="top-left">
    <a href="../agenda/" class="title title-link" target="_parent">SYSTEM MONITOR</a>
    <div class="subtitle">SYSTEM ARCHITECTURE &amp; AGENTS</div>
  </div>
  <div class="top-center">
    <span class="system-status"><span class="pulse-dot green"></span> <span id="systemStatus">SYSTEM OPERATIONAL</span></span>
    <span class="sep">|</span>
    <span class="last-refresh">LAST SYNC: <span id="lastRefresh">—</span></span>
  </div>
  <div class="top-right">
    <button class="action-btn" id="viewSitrep" title="VIEW RESOURCE MONITOR">◈ RESOURCE MONITOR</button>
    <div class="date" id="dateDisplay"></div>
    <div class="clock" id="clockDisplay"></div>
    <button class="refresh-btn" id="refreshAll" title="REFRESH ALL">⟳</button>
  </div>
</header>

<!-- DEFAULT VIEW: ORG CHART -->
<main class="org-main" id="orgMain">
  <div id="structureTree"></div>
</main>

<!-- IMPROVEMENTS QUEUE -->
<div class="improvements-overlay" id="improvementsOverlay">
  <div class="improvements-panel">
    <div class="section-header improvements-header" style="cursor:pointer;" id="improvementsToggle">
      <span class="header-line"></span>
      <span class="header-text">IMPROVEMENTS QUEUE <span class="imp-count-badge" id="impCountBadge">0</span></span>
      <span class="header-line"></span>
    </div>
    <div class="card-list" id="list-improvements"></div>
  </div>
</div>

<!-- CTA Buttons -->
<div id="ctaButtons" style="position:fixed;bottom:36px;left:0;right:0;display:flex;justify-content:center;align-items:center;gap:16px;padding:10px 0;z-index:500;pointer-events:none;">
  <button onclick="document.getElementById('welcomeOverlay').style.display='flex'" style="pointer-events:auto;background:#00aa44;color:#fff;font-weight:bold;font-family:'SF Mono','Fira Code','Cascadia Code','Consolas',monospace;font-size:clamp(10px, 0.85vw, 17px);letter-spacing:0.12em;padding:clamp(8px, 0.6vw, 12px) clamp(20px, 1.5vw, 31px);border-radius:5px;border:none;cursor:pointer;transition:all 0.2s;white-space:nowrap;" onmouseover="this.style.background='#22c55e';this.style.boxShadow='0 0 16px rgba(34,197,94,0.5)'" onmouseout="this.style.background='#00aa44';this.style.boxShadow='none'">ABOUT THIS DEMO ℹ</button>
  <a href="https://benbadejo.youcanbook.me" target="_blank" style="pointer-events:auto;background:#ff3333;color:#fff;font-weight:bold;font-family:'SF Mono','Fira Code','Cascadia Code','Consolas',monospace;font-size:clamp(10px, 0.85vw, 17px);letter-spacing:0.12em;padding:clamp(8px, 0.6vw, 12px) clamp(20px, 1.5vw, 31px);border-radius:5px;text-decoration:none;cursor:pointer;transition:all 0.2s;white-space:nowrap;" onmouseover="this.style.background='#ff5555';this.style.boxShadow='0 0 16px rgba(255,51,51,0.5)'" onmouseout="this.style.background='#ff3333';this.style.boxShadow='none'">BOOK A SESSION WITH BEN →</a>
</div>

<!-- SPECIAL OPERATIONS STATUS BAR -->
<footer class="specops-bar" id="specopsBar" style="display:flex;align-items:center;">
</footer>

<!-- SITREP MODAL -->
<div class="modal-overlay" id="sitrepModal">
  <div class="modal-content sitrep-modal">
    <div class="modal-header">
      <span class="modal-title">RESOURCE MONITOR</span>
      <button class="modal-close" id="closeSitrep">✕</button>
    </div>
    <div class="modal-body sitrep-body">
      <div class="sitrep-grid">
        <!-- Left: System + Sessions -->
        <div class="sitrep-col">
          <div class="section-header system-header">
            <span class="header-line"></span>
            <span class="header-text">PLATFORM</span>
            <span class="header-line"></span>
          </div>
          <div id="system-panel" class="system-panel"></div>

          <div class="section-header models-header" style="margin-top:1vh;">
            <span class="header-line"></span>
            <span class="header-text">MODEL NICKNAMES</span>
            <span class="header-line"></span>
          </div>
          <div id="models-panel" class="models-panel"></div>

          <div id="auth-status-panel" style="display:block; margin-top:1vh;"></div>
          <div class="section-header usage-header" style="margin-top:1vh;">
            <span class="header-line"></span>
            <span class="header-text" id="usage-header-text">TOKEN USAGE &amp; COST</span>
            <span class="header-line"></span>
          </div>
          <div style="text-align:center;font-size:0.7em;color:var(--text-dim);letter-spacing:0.06em;margin-top:-0.5vh;margin-bottom:0.5vh;">(if using API)</div>
          <div id="usage-table-container"></div>
          <div id="usage-last-scanned" class="usage-scanned"></div>

          <div class="section-header error-header" style="margin-top:1vh;">
            <span class="header-line"></span>
            <span class="header-text">ERROR LOG</span>
            <span class="header-line"></span>
          </div>
          <div id="errorExpander" class="error-expander" style="cursor:pointer;">▶ Expand to view</div>
          <div class="card-list" id="list-errors" style="display:none;"></div>
        </div>

        <!-- Center: Scheduled Ops -->
        <div class="sitrep-col sitrep-col-wide">
          <div class="section-header cron-header">
            <span class="header-line"></span>
            <span class="header-text">SCHEDULED OPERATIONS</span>
            <span class="item-count" id="count-crons">0</span>
            <span class="header-line"></span>
          </div>
          <div class="card-list" id="list-crons"></div>
        </div>

        <!-- Right: Skills -->
        <div class="sitrep-col">
          <div class="section-header skills-header">
            <span class="header-line"></span>
            <span class="header-text">SKILLS INVENTORY</span>
            <span class="item-count" id="count-skills">0</span>
            <span class="header-line"></span>
          </div>
          <div class="card-list" id="list-skills"></div>
        </div>
      </div>
      <!-- usage moved to left column -->
    </div>
  </div>
</div>

<script>document.getElementById('welcomeOverlay').addEventListener('click',function(e){if(e.target===this)this.style.display='none';});</script>
<script src="app.js"></script>
<script>
document.addEventListener('click', function(e) {
  var detail = document.getElementById('specopsDetail');
  var bar = document.getElementById('specopsBar');
  if (detail && detail.classList.contains('expanded')) {
    if (!detail.contains(e.target) && !bar.contains(e.target)) {
      detail.classList.remove('expanded');
    }
  }
});
</script>

<script>
(function(){
  var DASHBOARDS = ['../agenda/', '../crm/', '../project-view/', '../system-monitor/'];
  var ci = 3;
  var nav = function(url) { (window.parent || window).location.href = url; };
  document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowRight') nav(DASHBOARDS[(ci + 1) % DASHBOARDS.length]);
    else if (e.key === 'ArrowLeft') nav(DASHBOARDS[(ci - 1 + DASHBOARDS.length) % DASHBOARDS.length]);
  });
  var sx=0, sy=0, swipeAccumX=0, swipeFired=false, SWIPE_THRESHOLD=80;
  document.addEventListener('touchstart', function(e){ sx=e.touches[0].clientX; sy=e.touches[0].clientY; swipeAccumX=0; swipeFired=false; });
  document.addEventListener('touchmove', function(e){
    if(swipeFired) return;
    swipeAccumX = sx - e.touches[0].clientX;
    if(swipeAccumX > SWIPE_THRESHOLD){ swipeFired=true; nav(DASHBOARDS[(ci+1)%DASHBOARDS.length]); }
    else if(swipeAccumX < -SWIPE_THRESHOLD){ swipeFired=true; nav(DASHBOARDS[(ci-1+DASHBOARDS.length)%DASHBOARDS.length]); }
  });
  document.addEventListener('mousedown', function(e){ if(e.button===1){ e.preventDefault(); nav(DASHBOARDS[(ci+1)%DASHBOARDS.length]); }});
  var lastWheelTime=0;
  document.addEventListener('wheel', function(e){
    if(Math.abs(e.deltaX) > Math.abs(e.deltaY) && Date.now()-lastWheelTime>500){
      lastWheelTime=Date.now();
      var dx=e.deltaX;
      if(dx<0) nav(DASHBOARDS[(ci+1)%DASHBOARDS.length]);
      else nav(DASHBOARDS[(ci-1+DASHBOARDS.length)%DASHBOARDS.length]);
    }
  });
})();
</script>
</body>
</html>
